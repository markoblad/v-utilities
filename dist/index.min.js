"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _=require("lodash"),moment=require("moment"),math=require("mathjs"),VUtilities=function(){function r(){}return r.makeString=function(r){return null==r?"":""+r},r.coerceToString=function(r){return _.some(["[object Undefined]","[object Null]"],function(t){return Object.prototype.toString.call(r)===t})?"":r.toString()},r.reverse=function(r){return r.split("").reverse().join("")},r.isBlank=function(t){return null==t||void 0==t||("string"==typeof t||"number"==typeof t?/^\s*$/.test(t.toString()):r.isArray(t)?0===t.length:r.isObject(t)?0===Object.getOwnPropertyNames(t).length:/^\s*$/.test(r.makeString(t)))},r.isObject=function(r){return"[object Object]"===Object.prototype.toString.call(r)},r.isArray=function(r){return"[object Array]"===Object.prototype.toString.call(r)},r.isFunction=function(r){var t={};return!!r&&"[object Function]"===t.toString.call(r)},r.isDate=function(r){return"[object Date]"===Object.prototype.toString.call(r)},r.isString=function(r){return"string"==typeof r},r.isNumeric=function(t){return!r.isObject(t)&&!r.isArray(t)&&!isNaN(parseFloat(t))&&isFinite(t)},r.isTrue=function(r){if(void 0===r||null===r)return!1;var t=["yes","y","true","t","1","on"];return _.includes(t,r.toString().toLowerCase())},r.isFalse=function(r){if(void 0===r||null===r)return!1;var t=["no","n","false","f","0","off"];return _.includes(t,r.toString().toLowerCase())},r.isTrueOrFalse=function(t){return r.isTrue(t)||r.isFalse(t)},r.eachSlice=function(r,t,e){void 0===t&&(t=1);for(var n=0,i=r.length;n<i;n+=t)e(r.slice(n,n+t))},r.arraySum=function(t){return t&&r.isArray(t)?_.reduce(t,function(r,t){var e=typeof t;return!t||"string"!==e&&"number"!==e||!isFinite(t)&&t!==1/0?r:r+parseFloat(t)},0):0},r.arrayItemCounts=function(r){return _.reduce(r||[],function(r,t){return r[t]=r[t]||0,r[t]+=1,r},{})},r.arraySort=function(r){return void 0===r&&(r=[]),_.map(r,function(r){return"Infinity"===r?1/0:"-Infinity"===r?-1/0:r}).sort(function(r,t){return r-t})},r.arrayClosest=function(t,e){if(void 0===e&&(e=[]),!r.isNumeric(t)||!r.isArray(e)||0===e.length)return null;t=parseFloat(t.toString());var n=parseFloat(e[0].toString()),i=Math.abs(t-n);return e.forEach(function(e){if(!r.isBlank(e)){var o=parseFloat(e.toString()),u=Math.abs(t-o);r.isNumeric(e)&&u<i&&(i=u,n=o)}}),n},r.arrayClosestBelowOrAbove=function(t,e,n,i){if(void 0===e&&(e=[]),!r.isNumeric(t)||!r.isArray(e)||0===e.length)return null;t=parseFloat(t.toString());var o=_.chain(e).uniq().compact().map(function(r){return parseFloat(r.toString())}).value();o=r.arraySort(o),i||(o=_.reverse(o));var u,a=null;return u=n?i?function(r,t){return r>=t}:function(r,t){return r<=t}:i?function(r,t){return r>t}:function(r,t){return r<t},_.find(o,function(e){var n=r.isNumeric(e)&&u(e,t);return n&&(a=e),n}),a},r.arrayClosestBelow=function(t,e){return void 0===e&&(e=[]),r.arrayClosestBelowOrAbove(t,e,!1,!1)},r.arrayClosestAbove=function(t,e){return void 0===e&&(e=[]),r.arrayClosestBelowOrAbove(t,e,!1,!0)},r.arrayEqualOrClosestBelow=function(t,e){return void 0===e&&(e=[]),r.arrayClosestBelowOrAbove(t,e,!0,!1)},r.arrayEqualOrClosestAbove=function(t,e){return void 0===e&&(e=[]),r.arrayClosestBelowOrAbove(t,e,!0,!0)},r.hasRangeOverlap=function(t,e,n){return void 0===n&&(n={}),r.isTrue(n.sort)&&(t=t.sort(),e=e.sort()),t&&e&&2===t.length&&2===e.length&&(r.isTrue(n.strict)?t[0]!==t[1]&&(t[0]<e[1]&&t[1]>e[0]||e[0]<t[1]&&e[1]>t[0]):t[0]<=e[1]&&e[0]<=t[1])},r.filterHashes=function(t,e){return void 0===t&&(t=[]),void 0===e&&(e={}),_.filter(t,function(t){return _.every(e,function(e,n){return r.isFunction(e)?e(t[n]):t[n]===e})})},r.enumDate=function(t){return r.isBlank(t)?null:"number"==typeof t?t:parseInt(moment.utc(t).format("x"),10)},r.newUTCDateTimeStamp=function(){return r.enumDate(new Date)},r.convertDateToStartOfDayStamp=function(t){return r.enumDate(moment.utc(t).startOf("day"))},r.periodsToSortedStamps=function(t){return void 0===t&&(t=[]),_.chain(t||[]).map(function(t){return r.enumDate(t)}).compact().uniq().sortBy().value()},r.isLeapYear=function(r){return(r=parseInt(r,10))%4==0&&r%100!=0||r%400==0},r.parseIntOrZero=function(t){return r.isNumeric(t)?parseInt(t):0},r.parseFloatOrZero=function(t){return r.isNumeric(t)?parseFloat(t):0},r.parseBigOrZero=function(t){return math.bignumber(r.isNumeric(t)?t:0)},r.parseBigOrOne=function(t){return math.bignumber(r.isNumeric(t)?t:1)},r}();exports.VUtilities=VUtilities,exports.default=VUtilities;
