"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _=require("lodash"),moment=require("moment"),mathjs=require("mathjs"),VUtilities=function(){function i(){}return i.makeString=function(t){return null==t?"":""+t},i.coerceToString=function(r){return _.some(["[object Undefined]","[object Null]"],function(t){return Object.prototype.toString.call(r)===t})?"":r.toString()},i.reverse=function(t){return t.split("").reverse().join("")},i.isBlank=function(t){return null==t||null==t||("string"==typeof t||"number"==typeof t?/^\s*$/.test(t.toString()):i.isArray(t)?0===t.length:i.isObject(t)?0===Object.getOwnPropertyNames(t).length:/^\s*$/.test(i.makeString(t)))},i.isObject=function(t){return"[object Object]"===Object.prototype.toString.call(t)},i.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)},i.isFunction=function(t){return!!t&&"[object Function]"==={}.toString.call(t)},i.isDate=function(t){return"[object Date]"===Object.prototype.toString.call(t)},i.isString=function(t){return"string"==typeof t},i.isNumeric=function(t){return!i.isObject(t)&&!i.isArray(t)&&!isNaN(parseFloat(t))&&isFinite(t)},i.isBigNumber=function(t){return"BigNumber"===mathjs.typeOf(t)},i.isTrue=function(t){if(null==t)return!1;return _.includes(["yes","y","true","t","1","on"],t.toString().toLowerCase())},i.isFalse=function(t){if(null==t)return!1;return _.includes(["no","n","false","f","0","off"],t.toString().toLowerCase())},i.isTrueOrFalse=function(t){return i.isTrue(t)||i.isFalse(t)},i.eachSlice=function(t,r,e){void 0===r&&(r=1);for(var n=0,Y=t.length;n<Y;n+=r)e(t.slice(n,n+r))},i.arraySum=function(t){return t&&i.isArray(t)?_.reduce(t,function(t,r){var e=typeof r;return!r||"string"!=e&&"number"!=e||!isFinite(r)&&r!==1/0?t:t+parseFloat(r)},0):0},i.bigArraySum=function(t){return t&&i.isArray(t)?_.reduce(t,function(t,r){var e=mathjs.typeOf(r);return!r||"BigNumber"!==e&&"string"!==e&&"number"!==e||!isFinite(r)&&"Infinity"!==r.toString()?t:mathjs.add(t,"string"===e?i.parseBigOrZero(r):r)},mathjs.bignumber(0)):mathjs.bignumber(0)},i.arrayItemCounts=function(t){return _.reduce(t||[],function(t,r){return t[r]=t[r]||0,t[r]+=1,t},{})},i.arraySort=function(t){return void 0===t&&(t=[]),_.map(t,function(t){return"Infinity"===t?1/0:"-Infinity"===t?-1/0:t}).sort(function(t,r){return t-r})},i.arrayClosest=function(n,t){if(void 0===t&&(t=[]),!i.isNumeric(n)||!i.isArray(t)||0===t.length)return null;n=parseFloat(n.toString());var Y=parseFloat(t[0].toString()),M=Math.abs(n-Y);return t.forEach(function(t){if(!i.isBlank(t)){var r=parseFloat(t.toString()),e=Math.abs(n-r);i.isNumeric(t)&&e<M&&(M=e,Y=r)}}),Y},i.arrayClosestBelowOrAbove=function(e,t,r,n){if(void 0===t&&(t=[]),!i.isNumeric(e)||!i.isArray(t)||0===t.length)return null;e=parseFloat(e.toString());var Y=_.chain(t).uniq().compact().map(function(t){return parseFloat(t.toString())}).value();Y=i.arraySort(Y),n||(Y=_.reverse(Y));var M,s=null;return M=r?n?function(t,r){return r<=t}:function(t,r){return t<=r}:n?function(t,r){return r<t}:function(t,r){return t<r},_.find(Y,function(t){var r=i.isNumeric(t)&&M(t,e);return r&&(s=t),r}),s},i.arrayClosestBelow=function(t,r){return void 0===r&&(r=[]),i.arrayClosestBelowOrAbove(t,r,!1,!1)},i.arrayClosestAbove=function(t,r){return void 0===r&&(r=[]),i.arrayClosestBelowOrAbove(t,r,!1,!0)},i.arrayEqualOrClosestBelow=function(t,r){return void 0===r&&(r=[]),i.arrayClosestBelowOrAbove(t,r,!0,!1)},i.arrayEqualOrClosestAbove=function(t,r){return void 0===r&&(r=[]),i.arrayClosestBelowOrAbove(t,r,!0,!0)},i.hasRangeOverlap=function(t,r,e){return void 0===e&&(e={}),i.isTrue(e.sort)&&(t=t.sort(),r=r.sort()),t&&r&&2===t.length&&2===r.length&&(i.isTrue(e.strict)?t[0]!==t[1]&&(t[0]<r[1]&&t[1]>r[0]||r[0]<t[1]&&r[1]>t[0]):t[0]<=r[1]&&r[0]<=t[1])},i.rangeToArray=function(t,r){return Array.from(Array(r+1).keys()).slice(t,r+1)},i.filterHashes=function(t,r){return void 0===t&&(t=[]),void 0===r&&(r={}),_.filter(t,function(e){return _.every(r,function(t,r){return i.isFunction(t)?t(e[r]):e[r]===t})})},i.enumDate=function(t){return i.isBlank(t)?null:"number"==typeof t?t:"string"==typeof t&&/^[12]\d{3}(?:0\d)|(?:1[012])(?:[012]\d)|(?:3[01])$/g.test(t)&&!/\d\d\d\d023\d/g.test(t)?parseInt(moment.utc(t,"YYYYMMDD").format("x"),10):"string"==typeof t||"object"==typeof t?i.isNumeric(t)?parseInt(moment.utc(parseFloat(t)).format("x"),10):parseInt(moment.utc(t,["YYYY-MM-DDTHH:mm:ss.SSS ZZ","YYYY-MM-DDTHH:mm:ss.SSS Z","YYYY-MM-DDTHH:mm:ss.SSS","YYYY-MM-DD HH:mm:ss ZZ","YYYY-MM-DD HH:mm:ss Z","dddd MMMM DD, YYYY HH:mm:ss ZZ","dddd MMMM DD, YYYY HH:mm:ss Z","ddd MMMM DD, YYYY HH:mm:ss ZZ","ddd MMMM DD, YYYY HH:mm:ss Z","MMMM DD, YYYY HH:mm:ss ZZ","MMMM DD, YYYY HH:mm:ss Z","MMMM DD YYYY HH:mm:ss ZZ","MMMM DD YYYY HH:mm:ss Z","MMMM D, YYYY HH:mm:ss ZZ","MMMM D, YYYY HH:mm:ss Z","MMMM D YYYY HH:mm:ss ZZ","MMMM D YYYY HH:mm:ss Z","MMM D, YYYY HH:mm:ss Z","MMM D, YYYY HH:mm:ss ZZ","MMM D YYYY HH:mm:ss Z","MMM D YYYY HH:mm:ss ZZ","ddd MMM D YYYY HH:mm:ss Z","ddd MMM D YYYY HH:mm:ss ZZ","YYYY-MM-DD HH:mm:ss","MMMM DD, YYYY HH:mm:ss","dddd MMMM DD, YYYY HH:mm:ss","ddd MMMM DD, YYYY HH:mm:ss","MMMM DD YYYY HH:mm:ss","MMMM D, YYYY HH:mm:ss","MMMM D YYYY HH:mm:ss","MMM D, YYYY HH:mm:ss","MMM D YYYY HH:mm:ss","ddd MMM D YYYY HH:mm:ss","YYYY-MM-DD HH:mm ZZ","YYYY-MM-DD HH:mm Z","dddd MMMM DD, YYYY HH:mm ZZ","dddd MMMM DD, YYYY HH:mm Z","ddd MMMM DD, YYYY HH:mm ZZ","ddd MMMM DD, YYYY HH:mm Z","MMMM DD, YYYY HH:mm ZZ","MMMM DD, YYYY HH:mm Z","MMMM DD YYYY HH:mm ZZ","MMMM DD YYYY HH:mm Z","MMMM D, YYYY HH:mm ZZ","MMMM D, YYYY HH:mm Z","MMMM D YYYY HH:mm ZZ","MMMM D YYYY HH:mm Z","MMM D, YYYY HH:mm ZZ","MMM D, YYYY HH:mm Z","MMM D YYYY HH:mm ZZ","MMM D YYYY HH:mm Z","ddd MMM D YYYY HH:mm ZZ","ddd MMM D YYYY HH:mm Z","LLLL","LLL","LL","L","YYYY-MM-DD","MM-DD-YYYY","DD-MM-YYYY","YYYY-M-D","M-D-YYYY","D-M-YYYY","MMMM DD, YYYY","MMMM D, YYYY","MMM D, YYYY","MMMM DD YYYY","MMMM D YYYY","MMM D YYYY","MM-DD-YY","DD-MM-YY","M-D-YY","D-M-YY"]).format("x"),10):(console.log("typeof obj",typeof t),t instanceof moment?t.utc().format("x"):parseInt(moment.utc(t).format("x"),10))},i.newUTCDateTimeStamp=function(){return i.enumDate(moment())},i.convertDateToStartOfDayStamp=function(t){return null==t?t:i.enumDate(moment.utc(i.enumDate(t)||0).startOf("day"))},i.periodsToSortedStamps=function(t){return void 0===t&&(t=[]),_.chain(t||[]).map(function(t){return i.enumDate(t)}).compact().uniq().sortBy().value()},i.isLeapYear=function(t){return(t=parseInt(t,10))%4==0&&t%100!=0||t%400==0},i.parseIntOrZero=function(t){return t=i.isBigNumber(t=t||0)?mathjs.number(t):t,i.isNumeric(t)?parseInt(t):0},i.parseFloatOrZero=function(t){return t=i.isBigNumber(t=t||0)?mathjs.number(t):t,i.isNumeric(t)?parseFloat(t):0},i.parseBigOrZero=function(t){return i.isBigNumber(t=t||0)?t:mathjs.bignumber(i.isNumeric(t)?t:0)},i.parseBigOrOne=function(t){return i.isBigNumber(t=0===t?t:t||"")?t:mathjs.bignumber(i.isNumeric(t)?t:1)},i}();exports.VUtilities=VUtilities,exports.default=VUtilities;
